<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="generator" content="pandoc">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
    <meta name="description" content="GGIS on Github : Organization Pages for Gary Dalton and GGIS">

          <meta name="author" content="Gary Dalton">
              <title>Beginner Guide via Core Pi v2</title>
      <style type="text/css">code{white-space: pre;}</style>
      <!--[if lt IE 9]>
        <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
      <![endif]-->
                  <link rel="stylesheet" href="stylesheets/stylesheet.css">
            </head>

<body>
    
    <div id="header_wrap" class="outer">
    <header class="inner">
                <a id="forkme_banner" href="https://github.com/gary-dalton/RaspberryPi-projects/tree/gh-pages">View on GitHub</a>
                        <h1 id="project_title">Beginner Guide via Core Pi v2</h1>
                        <h3 id="project_tagline">RPi Initial setup using a Core Pi</h3>
            </header>
    </div>

    <div id="main_content_wrap" class="outer">
    <section id="main_content" class="inner">
                <p><a href="index.html">Home</a></p>
<section id="description" class="level1">
<h1>Description</h1>
<p>This guides a beginner to perform an initial setup of a Raspberry Pi. A coach should be nearby to assist when needed.</p>
</section>
<section id="next-up" class="level1">
<h1>Next up?</h1>
<p>After reading this guide, you may be interested in reading:</p>
<ul>
<li><a href="rpi_gui_changes.html">RPi Desktop Mods</a>, Changes to the packages and defaults of the full Raspian</li>
</ul>
</section>
<section id="overview" class="level1">
<h1>Overview</h1>
<p>A coach provides:</p>
<ul>
<li>a connected Core Pi v2</li>
<li>a MicroSD with Raspbian image installed</li>
<li>a Chrome browser with the Secure Shell and VNC Viewer apps installed</li>
</ul>
<p>You provide:</p>
<ul>
<li>a name for your new pi (required)</li>
<li>a password for your pi (required)</li>
</ul>
<p>Some useful information is:</p>
<ul>
<li>SSID to connect to is <em>corepiv2</em></li>
<li>Corepiv2 wifi password is <em>raspberry</em></li>
<li>New pi username/password is <em>pi/raspberry</em></li>
<li>Core Pi router IP address is <em>192.168.42.1</em></li>
<li>Core Pi microcomputer IP address is <em>192.168.84.1</em></li>
</ul>
<p>The steps to follow for easy setup are:</p>
<ol type="1">
<li><a href="#1">Attach your pi</a></li>
<li><a href="#2">Connect to your Pi</a></li>
<li><a href="#3">Run first boot setup</a></li>
<li><a href="#4">Update and upgrade</a></li>
<li><a href="#5">Improving security</a></li>
<li><a href="#6">Connect with VNC</a></li>
<li><a href="#7">Personalize your desktop</a></li>
<li><a href="#Conclusion">Conclusion</a></li>
</ol>
<section id="attach-your-pi" class="level2">
<h2><a name="1"></a>Attach your pi</h2>
<p><em>Time to complete is about 5 minutes.</em></p>
<p><a href="https://www.raspberrypi.org/help/what-is-a-raspberry-pi/">What is a Raspberry Pi?</a></p>
<p>Your new pi is a microcomputer and a MicroSD card as shown in the photo. You may also have a USB wifi dongle.</p>
<figure>
<img src="images/pi_sd.jpg" alt="Pi and MicroSD card" /><figcaption>Pi and MicroSD card</figcaption>
</figure>
<p>Insert the MicroSD card into the slot on the bottom of the pi. the MicroSD acts as the hard drive of your computer.</p>
<figure>
<img src="images/insert_sd.jpg" alt="Insert MicroSD card" /><figcaption>Insert MicroSD card</figcaption>
</figure>
<p>Use the Ethernet cable to connect your pi to the Ethernet switch. Provide power via the microUSB. This is the same as a smartphone power cord.</p>
<figure>
<img src="images/connect_new_pi.jpg" alt="Connect Ethernet to router" /><figcaption>Connect Ethernet to router</figcaption>
</figure>
<p>Your pi is now attached.</p>
</section>
<section id="connect-to-your-pi" class="level2">
<h2><a name="2"></a>Connect to your Pi</h2>
<p><em>Time to complete is about 10 minutes.</em></p>
<section id="wifi-access-point" class="level3">
<h3>Wifi access point</h3>
<p>Using standard methods connect your computer to the corepiv2 access point. The name is <em>corepiv2</em> and the password is <em>raspberry</em>.</p>
</section>
<section id="find-your-new-pis-ip-address" class="level3">
<h3>Find your new pi's IP address</h3>
<p><a href="http://whatismyipaddress.com/ip-address">What is an IP address?</a></p>
<ul>
<li>Point your browser to <a href="http://192.168.42.1/Info.htm">192.168.42.1</a></li>
<li>Browse to the bottom of the page to the section <em>DHCP Clients</em></li>
<li>Note the IP Address of your newly connected raspberrypi. In this guide, anytime you see <strong>newpi_IP</strong> it refers to this IP Address.</li>
</ul>
</section>
<section id="ssh" class="level3">
<h3>SSH</h3>
<p><a href="http://encyclopedia.kids.net.au/page/ss/SSH">What is Secure Shell?</a></p>
<p>Use the Secure Shell app to connect to your new pi. Start a [New Connection] and then then name your connection <em>whatever name you picked for your pi</em>. The username is <em>pi</em>, the hostname is <em>newpi_IP</em>, and the port is <em>22</em>. No other information is needed and you may click <em>Connect</em>. Your information should appear similar to this image.</p>
<figure>
<img src="images/ssh_pi.png" alt="Secure Shell to New Pi" /><figcaption>Secure Shell to New Pi</figcaption>
</figure>
<p>Since this is your first time connecting to this pi, you should receive the message:</p>
<pre><code>Connecting to pi@newpi_IP...
Loading NaCl plugin... done.
The authenticity of host &#39;newpi_IP (newpi_IP)&#39; can&#39;t be established.
ECDSA key fingerprint is 2a:a7:94:bd:45:f2:00.
Are you sure you want to continue connecting (yes/no)?</code></pre>
<p>Enter <strong>yes</strong></p>
<p>You will now see a prompt to enter a password. The password is <em>raspberry</em>. If instead you get an error message such as:</p>
<pre><code>@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@ WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED! @
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
IT IS POSSIBLE THAT SOMEONE IS DOING SOMETHING NASTY!
Someone could be eavesdropping on you right now (man-in-the-middle attack)!
It is also possible that a host key has just been changed.
The fingerprint for the ECDSA key sent by the remote host is
d6:be:12:7e:22:23:c3
Please contact your system administrator.
Add correct host key in /.ssh/known_hosts to get rid of this message.
Offending ECDSA key in /.ssh/known_hosts:7
ECDSA host key for xxxxxxxxxxxxx.yyy.au has changed and you have requested strict checking.
Host key verification failed.
NaCl plugin exited with status code 255.
(R)econnect, (C)hoose another connection, or E(x)it?</code></pre>
<p>talk to your coach. Your coach may choose to follow this <a href="ssh.html#Chrome_01">SSH hint</a>.</p>
</section>
</section>
<section id="run-first-boot-setup" class="level2">
<h2><a name="3"></a>Run first boot setup</h2>
<p><em>Time to complete is about 10 minutes.</em></p>
<p>Start the configuration software to expand the filesystem, change the password, and change the hostname. Enter the configuration with this command, <code>sudo raspi-config</code>.</p>
<ul>
<li>Select and execute <strong>Expand Filesystem</strong></li>
<li>Select and execute <strong>Change User Password</strong></li>
<li>Select and execute <strong>Internationalization Options</strong>
<ul>
<li><strong>Change Locale</strong> to your locale.
<ul>
<li>Use spacebar to select/deselect</li>
<li>Deselect en_GB.UTF-8 UTF-8</li>
<li>Select en_US.UTF-8 UTF-8</li>
<li>OK</li>
<li>Select en_US.UTF-8 UTF-8 as default and then OK</li>
</ul></li>
<li><strong>Change Timezone</strong> to UTC.</li>
</ul></li>
<li>Select <strong>Advanced Options</strong> and select and execute <strong>Hostname</strong>. <em>Pick a unique and easy to remember hostname. This will be used to connect later.</em></li>
<li>Reboot your system <code>sudo reboot now</code>.</li>
</ul>
<p><strong>INFO: The pi may be shutdown from the command line with, <code>sudo shutdown now</code>. Wait about a minute and remove power.</strong></p>
</section>
<section id="update-and-upgrade" class="level2">
<h2><a name="4"></a>Update and upgrade</h2>
<p><em>Time to complete is about 5 minutes. This does not include the amount of time required to upgrade. Upgrading your system may take an hour with a slow connection and many upgrades.</em></p>
<p>It is important to keep your pi's software up to date. This is commonly done using apt-get. The main keywords to know are <em>update</em>, <em>upgrade</em>, <em>install</em>, and <em>remove</em>. So let's make the system current.</p>
<section id="use-the-corepi-cache" class="level3">
<h3>Use the corepi cache</h3>
<p>The corepi system uses a cache to locally connected pies. A single line added to a configuration file makes this available.</p>
<ul>
<li><code>sudo nano /etc/apt/apt.conf.d/02proxy</code>
<ul>
<li>Learn about <em>nano</em>, the editor used to write the configuration file. <a href="http://www.howtogeek.com/howto/42980/the-beginners-guide-to-nano-the-linux-command-line-text-editor/">The Beginnerâ€™s Guide to Nano</a></li>
</ul></li>
<li>Add the line <code>Acquire::http { Proxy &quot;http://192.168.84.1:3142&quot;; };</code></li>
</ul>
</section>
<section id="upgrade" class="level3">
<h3>Upgrade</h3>
<ul>
<li>Update the packages list, <code>sudo apt-get update</code>.</li>
<li>Upgrade software packages to the current version, <code>sudo apt-get upgrade</code>.</li>
<li>Relax, this might take a while. Maybe grab lunch.</li>
</ul>
</section>
</section>
<section id="improving-security" class="level2">
<h2><a name="5"></a>Improving security</h2>
<p>Some general rules to security are:</p>
<ul>
<li>Do not use default passwords</li>
<li>Use multifactor authentication</li>
<li>Do not provide shell access unless it is needed</li>
<li>Do not provide services you do not need</li>
<li>Do not needlessly expose services</li>
<li>Apply security patches</li>
<li>Prevent physical access</li>
<li>Use quality cryptology</li>
</ul>
<p>In this beginner's guide, only one additional area of security will be improved. You should already have changed the main password. If you haven't, revisit <a href="#3">Run first boot setup</a> and change it now.</p>
<section id="sshd-configuration" class="level3">
<h3>SSHd configuration</h3>
<p><em>Time to complete is about 5 minutes.</em></p>
<p>There are a few SSHd configuration changes that will improve SSH security. Since SSHd is likely a service you do want to provide and it gives shell access, this is important.</p>
<ul>
<li>Edit the configuration file, <code>sudo nano /etc/ssh/sshd_config</code></li>
<li>Change the following:</li>
</ul>
<pre><code>PermitRootLogin no</code></pre>
<ul>
<li>Add the following:</li>
</ul>
<pre><code>AllowUsers pi
# Even better if you use a non-default user</code></pre>
</section>
</section>
<section id="connect-with-vnc" class="level2">
<h2><a name="6"></a>Connect with VNC</h2>
<p><a href="https://www.realvnc.com/support/faq.html#philosophy">What is VNC?</a></p>
<p><strong>NOTE: There are many security problems in current vnc implementations. Permit access to vnc servers on the local network only.</strong></p>
<ul>
<li>Install TightVNC Server, <code>sudo apt-get install tightvncserver</code>.</li>
<li>Start the server, <code>vncserver -nolisten tcp -nevershared -dontdisconnect :1</code>.
<ul>
<li>Learn more with <code>man vncserver</code>, <code>man Xvnc</code>, and <code>Xvnc -help</code></li>
</ul></li>
<li>Enter the requested new <em>vnc password</em>, a view-only password is not needed.
<ul>
<li>If you later wish to set a different password simply <code>rm .vnc/passwd</code></li>
</ul></li>
<li>Start the VNC Viewer app from Chrome</li>
<li>For the address, enter <em>newpi_IP:1</em></li>
<li>Your information should appear similar to this image.</li>
</ul>
<p><strong>INFO: Stop the server with <code>vncserver -kill :1</code></strong></p>
<figure>
<img src="images/vnc_viewer.png" alt="VNC Viewer to Core Pi" /><figcaption>VNC Viewer to Core Pi</figcaption>
</figure>
<ul>
<li>Click Connect</li>
<li>When requested, enter your <em>vnc password</em></li>
<li>You should now be viewing the desktop on your new pi</li>
</ul>
</section>
<section id="personalize-your-desktop" class="level2">
<h2><a name="7"></a>Personalize your desktop</h2>
<p>Since you are now looking at the desktop of your raspberry pi, start making it your own. Start with <a href="rpi_gui_changes.html">RPi Desktop Mods</a>.</p>
</section>
<section id="conclusion" class="level2">
<h2><a name="Conclusion"></a>Conclusion</h2>
<p>Use your pi! Explore the menu system. Show no fear in the command line. You cannot harm this computer by any actions taken through SSH or VNC.</p>
</section>
</section>
            </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
    <footer class="inner">
        <p>Published with <a href="http://pandoc.org/">Pandoc</a> onto
        <a href="https://pages.github.com">GitHub Pages</a></p>
    </footer>
    </div>

</body>
</html>
